(this["webpackJsonprestaurant-name"]=this["webpackJsonprestaurant-name"]||[]).push([[0],{58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var c=n(9),a=n(1),s=n.n(a),i=n(25),r=n.n(i),o=n(14),d=n(16),l=n(33),u=n(5),j=n(12),b=n(3),m=n(26),h=n.n(m),O=(n(58),n(59),n(11)),x=n.n(O),p=n(19),f=(n(60),Object(a.createContext)(null)),v=n(0),y=Object(b.g)((function(t){var e=Object(a.useContext)(f),n=e.cartList,s=e.apiResponse.data.restaurantName;return console.log(n),Object(v.jsx)("nav",{className:"navbar",children:Object(v.jsxs)("div",{className:"nav-container",children:[Object(v.jsx)(c.b,{to:"/",className:"link-item",children:Object(v.jsx)("h1",{className:"web-logo-heading",children:s})}),Object(v.jsxs)("div",{className:"cart-container",children:[Object(v.jsx)("p",{className:"my-order-menu",children:"My Orders"}),Object(v.jsx)(c.b,{to:"/cart",className:"link-item",children:Object(v.jsxs)("button",{type:"button","data-testid":"cart",className:"cart-btn cart-icon-container",children:[Object(v.jsx)(p.b,{size:24,className:"cart-icon"}),Object(v.jsx)("p",{className:"cart-orders",children:n.length})]})}),Object(v.jsx)("button",{type:"button",className:"logout-desktop-btn",onClick:function(){var e=t.history;x.a.remove("jwt_token"),e.replace("/login")},children:"Logout"})]})]})})})),N=(n(65),n(66),function(t){var e=t.eachItemDetails,n=Object(a.useContext)(f).addCartItem,c=Object(a.useState)(0),s=Object(j.a)(c,2),i=s[0],r=s[1],o=e.dishAvailability,d=e.dishCalories,l=e.dishCurrency,b=e.dishDescription,m=e.dishId,h=e.dishImage,O=e.dishName,x=e.dishPrice,p=e.dishType,y=e.addOnCat,N=1===p?"https://img.icons8.com/?size=48&id=61082&format=png":"https://img.icons8.com/?size=48&id=61083&format=png";return Object(v.jsxs)("li",{className:"eachItem",children:[Object(v.jsxs)("div",{className:"dish-type-and-dish-details",children:[Object(v.jsx)("img",{src:N,alt:O,className:"dish-type-img"}),Object(v.jsxs)("div",{className:"dish-details-container",children:[Object(v.jsx)("h1",{className:"dish-name",children:O}),Object(v.jsxs)("p",{className:"sar-val",children:[l," ",x]}),Object(v.jsx)("p",{className:"dish-desc",children:b}),o?Object(v.jsxs)("div",{className:"add-on-container",children:[Object(v.jsx)("button",{type:"button",className:"add-sub-btn",onClick:function(){r((function(t){return 0!==t?t-1:0}))},children:"-"}),Object(v.jsx)("p",{className:"number-dish",children:i}),Object(v.jsx)("button",{type:"button",className:"add-sub-btn",onClick:function(){r((function(t){return t+1}))},children:"+"})]}):Object(v.jsx)("p",{className:"not-available-error",children:"Not available"}),i>0&&Object(v.jsx)("button",{type:"button",onClick:function(){n(Object(u.a)(Object(u.a)({},e),{},{quantity:i}))},className:"add-cart-btn",children:"ADD TO CART"}),0!==y.length&&Object(v.jsx)("p",{className:"custom-avail",children:"Customizations available"})]})]}),Object(v.jsxs)("div",{className:"calories-and-image",children:[Object(v.jsx)("div",{className:"dish-calories-section",children:Object(v.jsxs)("p",{className:"calories",children:[d," calories"]})}),Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:h,alt:m,className:"dish-img"})})]})]})}),g=function(){var t=Object(a.useContext)(f).apiResponse.data.formattedData,e=Object(a.useState)(t[0].menuCategoryId),n=Object(j.a)(e,2),c=n[0],s=n[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)("ul",{className:"menu-tabs",children:t.map((function(t){return Object(v.jsx)("li",{className:t.menuCategoryId===c?"tabs active":"tabs",children:Object(v.jsx)("button",{type:"submit",onClick:function(){return s(t.menuCategoryId)},className:t.menuCategoryId===c?"tab-btn active":"tab-btn",children:t.menuCategory})},t.menuCategoryId)}))}),function(){var e=t.filter((function(t){return t.menuCategoryId===c}))[0].categoryDishes;return Object(v.jsx)("div",{className:"menu-item-container",children:Object(v.jsx)("ul",{className:"menu-item-card-container",children:e.map((function(t){return Object(v.jsx)(N,{eachItemDetails:t},t.dishId)}))})})}()]})},C=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{className:"menu-category-container",children:Object(v.jsx)(g,{})})]})},I=n(29),k=n(30),_=n(31),q=n(32),w=(n(67),a.Component,n(68),n(69),function(){return Object(v.jsxs)("div",{className:"cart-empty-view-container",children:[Object(v.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-trendz-empty-cart-img.png",className:"cart-empty-img",alt:"cart empty"}),Object(v.jsx)("h1",{className:"cart-empty-heading",children:"Your Cart Is Empty"}),Object(v.jsx)(c.b,{to:"/",children:Object(v.jsx)("button",{type:"button",className:"shop-now-btn",children:"Shop Now"})})]})}),D=(n(70),function(t){var e=Object(a.useContext)(f),n=e.removeCartItem,c=e.incrementCartItemQuantity,s=e.decrementCartItemQuantity,i=t.cartItemDetails,r=i.dishId,o=i.dishName,d=i.dishCalories,l=i.quantity,u=i.dishPrice,j=i.dishImage,b=function(){n(r)},m=u*l;return Object(v.jsxs)("li",{className:"cart-item",children:[Object(v.jsx)("img",{className:"cart-product-image",src:j,alt:o}),Object(v.jsxs)("div",{className:"cart-item-details-container",children:[Object(v.jsxs)("div",{className:"cart-product-title-brand-container",children:[Object(v.jsx)("p",{className:"cart-product-title",children:o}),Object(v.jsxs)("p",{className:"cart-product-brand",children:["by ",d]})]}),Object(v.jsxs)("div",{className:"cart-quantity-container",children:[Object(v.jsx)("button",{type:"button",className:"quantity-controller-button","data-testid":"minus",onClick:function(){s(r)},children:"-"}),Object(v.jsx)("p",{className:"cart-quantity",children:l}),Object(v.jsx)("button",{type:"button",className:"quantity-controller-button","data-testid":"plus",onClick:function(){c(r)},children:"+"})]}),Object(v.jsxs)("div",{className:"total-price-remove-container",children:[Object(v.jsxs)("p",{className:"cart-total-price",children:["Rs ",m,"/-"]}),Object(v.jsx)("button",{className:"remove-button",type:"button",onClick:b,children:"Remove"})]})]}),Object(v.jsx)("button",{className:"delete-button",type:"button",onClick:b,"data-testid":"remove",children:Object(v.jsx)(p.a,{color:"#616E7C",size:20})})]})}),S=(n(71),function(){var t=Object(a.useContext)(f).cartList;return Object(v.jsx)("ul",{className:"cart-list",children:t.map((function(t){return Object(v.jsx)(D,{cartItemDetails:t},t.dishId)}))})}),A=function(){var t=Object(a.useContext)(f),e=t.cartList,n=t.removeAllCartItems;console.log(e);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsx)("div",{className:"cart-container",children:0===e.length?Object(v.jsx)(w,{}):Object(v.jsxs)("div",{className:"cart-content-container",children:[Object(v.jsx)("h1",{className:"cart-heading",children:"My Cart"}),Object(v.jsx)("button",{type:"button",className:"remove-all-btn",onClick:function(){return n()},children:"Remove All"}),Object(v.jsx)(S,{})]})})]})},R="INITIAL",E="SUCCESS",z="FAILURE",L="IN_PROGRESS",M=function(){var t=Object(a.useState)({status:R,data:null,errorMsg:null}),e=Object(j.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)([]),i=Object(j.a)(s,2),r=i[0],m=i[1],O=function(t){var e=r.filter((function(e){return e.dishId!==t}));m(e)};Object(a.useEffect)((function(){var t=function(){var t=Object(d.a)(Object(o.a)().mark((function t(){var e,n,a,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:L})})),"https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc",e={method:"GET"},t.next=5,fetch("https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc",e);case 5:return n=t.sent,t.next=8,n.json();case 8:a=t.sent,console.log(a),n.ok?(s={restaurantName:a[0].restaurant_name,formattedData:a[0].table_menu_list.map((function(t){return{menuCategory:t.menu_category,menuCategoryId:t.menu_category_id,categoryDishes:t.category_dishes.map((function(t){return{dishId:t.dish_id,dishName:t.dish_name,dishPrice:t.dish_price,dishImage:t.dish_image,dishCurrency:t.dish_currency,dishCalories:t.dish_calories,dishDescription:t.dish_description,dishAvailability:t.dish_Availability,dishType:t.dish_Type,addOnCat:t.addonCat}}))}}))},console.log(s),c((function(t){return Object(u.a)(Object(u.a)({},t),{},{data:s,status:E})}))):c((function(t){return Object(u.a)(Object(u.a)({},t),{},{status:z,errorMsg:a.errorMsg})}));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);return Object(v.jsx)(f.Provider,{value:{apiResponse:n,cartList:r,addCartItem:function(t){var e=r.find((function(e){return e.dishId===t.dishId}));m(e?function(n){return n.map((function(n){if(e.dishId===n.dishId){var c=n.quantity+t.quantity;return Object(u.a)(Object(u.a)({},n),{},{quantity:c})}return n}))}:function(e){return[].concat(Object(l.a)(e),[t])})},removeCartItem:O,decrementCartItemQuantity:function(t){r.find((function(e){return e.dishId===t})).quantity>1?m((function(e){return e.map((function(e){if(t===e.dishId){var n=e.quantity-1;return Object(u.a)(Object(u.a)({},e),{},{quantity:n})}return e}))})):O(t)},removeAllCartItems:function(){m([])},incrementCartItemQuantity:function(t){m((function(e){return e.map((function(e){if(t===e.dishId){var n=e.quantity+1;return Object(u.a)(Object(u.a)({},e),{},{quantity:n})}return e}))}))}},children:Object(v.jsx)("div",{className:"page-container",children:Object(v.jsx)(b.d,{children:function(){switch(n.status){case E:return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.b,{path:"/",component:C}),Object(v.jsx)(b.b,{exact:!0,path:"/cart",component:A})]});case z:return function(){var t=n.errorMsg;return Object(v.jsx)("div",{className:"failure-view",children:t})}();case L:return Object(v.jsx)("div",{className:"loader-view",children:Object(v.jsx)(h.a,{color:"#000000",size:50})});default:return null}}()})})})};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(c.a,{children:Object(v.jsx)(M,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.e39fc4a7.chunk.js.map